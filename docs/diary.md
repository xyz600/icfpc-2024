# 1日目

## 21:10

とりあえず問題文を読む。
わからないけど、コンパイラ書けみたいな雰囲気を感じる。

とりあえず、なんらかの文字列を送る必要がありそうなので、post request 送るツールは作るか。

## 23:30

構文木をずっと書いてたんだけど、一生ラムダ抽象の構文をどう書いたらいいかわからなくて迷走してた。
書籍を読んだりしながらうんうん唸っていたら、普通に "L〇" の後に ICFP を一個読むようにすればつじつまが合うことに気付いた。
つまり、普通に一引数関数の `lambda x: x + 1` みたいに解釈すればよさそうという感じで、この例だと `L# B+ v# I"` となる。
ここまで解釈できれば後は気合い実装なので、明日やろう。形無しラムダ計算、本は読んだことあるけど多分インタプリタ実装するの初めてなので楽しみ～～

# 2日目

## 6:45

抽象構文木の実装始まり。

## 13:54

何度もリファクタリングをしたり、β-簡約周りの理解に結構詰まってしまったけど、ある程度まともなパースができるようになった！！🎉🎉
graphviz のビジュアライズ機能をつけたり色々頑張ったりして、面白いーー

- 何か長い文字列に対しては stack over flow が出る
- NodeFactory を実装しないと unique id が実現できない
    - unique id がないと、β-簡約する時に重複した node id を付与してしまって面倒なことになる

という部分は TODO として積んでおくことにする。
とりあえず、次は目に見えるパズルを解くシリーズをやってみる。

## 15:20

適用部分が一生バグってたけど、同名変数の扱いがおかしいことがわかり、とりあえず直したら hello が 1 になれた。
とりあえず一段落なんだけど、次何やればいいのか何もわかってないので、次に何をやるべきかを調べる。

## 15:59

何にもわからなかったので、試しに `get lambdaman` とか送ってみたら、何か問題が降ってきた。
わかりやすくてよかった～～

一通り scoreboard にある問題を取り寄せてみたけど、どうも 2, 3 問目などに手をつけないと次に進めないシステムらしい。
とりあえず、 lambdaman や spaceship をやることにしよう。

## 18:30

バグが取れないまま食事会へ。

## 23:30

帰宅。続きをやる。
よく考えたら、まだ変な動きをするパターンは考えられる。
多分なんだけど、一番最初に α-簡約をやらないとバグって死ぬケースがあると思う（自由変数を付け替えるタイミングがダメそう）。
明日そのバグを直す旅に出ようと思う。直らなかったら、困るな…

# 3日目

## 7:25

起きたので、開始。
デバッグの続き

## 8:05

β簡約を再帰で関数一度呼んだだけで解決しようと思ったのが間違いらしい。
何度もβ簡約するコードを呼ぶようにしたら解決した。

何かそれらしい lambdaman / spaceship の問題一覧が全部取れたっぽいので、ここから僕の ICFPC が始まる！！

lambdaman の問題を読んだ。ハミルトンパスを求めよという問題で、とりあえず LKH もどきを貼って終わりにしよう。
開始点を決めた時に、仮想頂点 V を決めて、V と現存頂点のコストを0にすることで、ハミルトン路を表現できるはず。

## 10:30

昔の TSP ソルバを持ってきて、繋げて全て解ききるところまでやった。
(ハミルトンパスのこと 1mm も考えてないので、自明な改善余地がある)
submit しようとしたんだけど色々面倒だから、コマンドや client を作るのがいいかなという気持ちになってきた。

ちょっとコマンドを整備しようかな。

## 11:17

とりあえず lambdaman で正の得点が取れるようになった。
何か lambdaman の best score が頭おかしいから絶対何か見落としがあるんだけど、よくわからんから一旦放置する。
(LKH の max-depth 2になってたので、流石にダメそう…)

次は spaceship の問題読む。

## 11:35

問題読んだ。
【要約】
無限に広い整数座標がある。
速度を↓↓の数字のパッドのように速度の増減を指定できるから、全ての頂点を訪れるのに必要な手数を求めよ。
1 2 3
4 5 6
7 8 9

うーん、適当に TSP で経路を求めて、そこまでのパスをビームサーチで求めるような感じになるのだろうか。
何か面倒そうだったので、他に簡単そうな問題がないかなーと思って全部の問題を確認することにした。

### 3d

謎の 2D 言語を使って、色んなアルゴの問題を解け！みたいなやつ。

### efficiency

追加の文法規則を使っていいから、parse にめちゃ時間かかる ICFP のパースをせよ！

どう考えても spaceship が一番楽そうで笑った。
次に面白そうなのが effieiency だなーと思うので、そこまで頑張って辿り着きたい気持ちがある。
とりあえず spaceship やるか～～
